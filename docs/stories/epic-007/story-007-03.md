# Story 007-03: Load project from native format

**Epic:** EPIC-007 - File Operations and Interoperability
**Status:** Completed
**Estimate:** 8 points
**Assigned To:** Claude

---

## Description

As a pattern designer, I want to open saved project files so that I can continue working on previous projects.

---

## Acceptance Criteria

- [ ] User can open via File â†’ Open (Ctrl+O)
- [ ] File browser filters for .patterncad files
- [ ] All project data is restored: geometry, parameters, constraints, layers, settings
- [ ] Load restores view state (zoom, pan, layer visibility)
- [ ] Load operation completes in < 2 seconds for typical project
- [ ] Corrupted files show clear error message
- [ ] Load validates file format version
- [ ] Recent files list updates with opened file

---

## Technical Notes

### Implementation Details

- Implement NativeFormat::importFile()
- Parse JSON and deserialize to Project
- Validate file version compatibility
- Restore all project state
- Handle parse errors gracefully
- Update recent files list

### Architecture

The load functionality should:
1. Parse JSON file using QJsonDocument
2. Validate file format version
3. Deserialize all project components
4. Restore view state (camera position, zoom level)
5. Update application state (recent files, window title)

### Version Compatibility

- Check file format version against supported versions
- Implement migration path for older versions if needed
- Clearly indicate incompatible versions to user

### Error Handling

- Validate JSON structure before deserializing
- Handle missing or corrupted data gracefully
- Display clear error messages with specific issues
- Allow user to attempt recovery or cancel

---

## Dependencies

- story-007-02 (Save project to native format)

---

## Definition of Done

- [ ] Code implemented and follows project coding standards
- [ ] Unit tests written and passing
- [ ] Integration tests verify load functionality
- [ ] Manual testing completed on Linux and Windows
- [ ] Version validation works correctly
- [ ] Corrupted file handling tested
- [ ] View state restoration verified
- [ ] Documentation updated (user guide and API docs)
- [ ] Code reviewed and approved
- [ ] Performance verified (< 2 seconds for typical projects)
- [ ] Recent files list updates correctly
