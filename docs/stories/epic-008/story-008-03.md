# Story 008-03: Create tool palette with drawing tools

**Epic:** EPIC-008 - User Interface and Cross-Platform Foundation
**Status:** Not Started
**Estimate:** 3 points
**Assigned To:** Unassigned

---

## Description

As a pattern designer, I want a tool palette with visual icons
so that I can quickly select drawing and editing tools.

---

## Acceptance Criteria

- [ ] Tool palette is vertical toolbar on left side (or dockable)
- [ ] Tools include: Select, Line, Circle, Rectangle, Arc, Bezier, Point, Move, Measure
- [ ] Each tool has clear icon and tooltip showing name and keyboard shortcut
- [ ] Active tool is visually highlighted
- [ ] Tools organized into groups (can be collapsed/expanded)
- [ ] Toolbar remembers position across sessions
- [ ] User can hide/show toolbar (View menu)

---

## Technical Notes

**Implementation Details:**
- Create ToolPalette (QToolBar or QDockWidget)
- Add QAction for each tool with icon and shortcut
- Implement tool selection logic
- Highlight active tool
- Save toolbar state in QSettings

**Key Components:**
```cpp
class ToolPalette : public QDockWidget {
    Q_OBJECT
public:
    explicit ToolPalette(QWidget *parent = nullptr);

    void setActiveTool(const QString& toolName);
    QString getActiveTool() const;

signals:
    void toolSelected(const QString& toolName);

private:
    void createTools();
    void createToolGroup(const QString& groupName, const QStringList& tools);

    QMap<QString, QAction*> tools_;
    QString activeTool_;
};
```

**Tool Groups:**

1. **Selection Tools:**
   - Select (S) - Arrow icon
   - Move (M) - Four-way arrow icon

2. **Drawing Tools:**
   - Line (L) - Line icon
   - Circle (C) - Circle icon
   - Rectangle (R) - Rectangle icon
   - Arc (A) - Arc icon
   - Bezier (B) - Curved line icon
   - Point (P) - Point/dot icon

3. **Measurement Tools:**
   - Measure (D) - Ruler icon

4. **Pattern Tools:**
   - Add Notch - V-notch icon
   - Add Match Point - Circle with label icon

**Icon Design:**
- Size: 24x24 pixels or 32x32 for high-DPI
- Style: Flat, monochrome with hover/active states
- Active state: Highlighted background or border
- Format: SVG for scalability

**Tool Action Setup:**
```cpp
QAction* createToolAction(const QString& name,
                          const QString& icon,
                          const QString& shortcut,
                          const QString& tooltip) {
    QAction* action = new QAction(QIcon(icon), name, this);
    action->setShortcut(QKeySequence(shortcut));
    action->setToolTip(QString("%1 (%2)").arg(tooltip).arg(shortcut));
    action->setCheckable(true);
    return action;
}
```

**State Persistence:**
- Save toolbar position and visibility in QSettings
- Save/restore on application start/close
- Settings key: "ToolPalette/geometry" and "ToolPalette/visible"

---

## Dependencies

- story-008-01 (Main window must exist)

---

## Definition of Done

- [ ] Code implemented and committed
- [ ] Unit tests written and passing
- [ ] Integration tests passing
- [ ] Code reviewed and approved
- [ ] Documentation updated
- [ ] Manual testing completed
- [ ] No critical or high-priority bugs
- [ ] Acceptance criteria verified
- [ ] All tool icons created and added to resources
- [ ] Toolbar state persists across application restarts
