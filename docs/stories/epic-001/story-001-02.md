# Story 001-02: Draw and edit Bezier curves

**Epic:** EPIC-001 - Core Drawing and Editing Tools
**Status:** Not Started
**Estimate:** 8 points
**Assigned To:** Unassigned

---

## Description

As a pattern designer, I want to draw and edit cubic Bezier curves with control points
so that I can create smooth curved edges for complex pattern pieces.

---

## Acceptance Criteria

- [ ] User can select Bezier tool (B key) and create curves by defining anchor and control points
- [ ] User can adjust control points after curve creation by dragging
- [ ] Curve smoothness is maintained during editing (visual continuity)
- [ ] Curves render smoothly at all zoom levels (Level of Detail)
- [ ] Control points are visually distinct (different color, size) and easily selectable
- [ ] Bezier curves are editable like other geometry objects

---

## Technical Notes

- Implement CubicBezier class with evaluate(t), length(), split() methods
- Create BezierTool for interactive creation
- Implement control point handles as separate QGraphicsItems
- Add LOD rendering (fewer segments at low zoom for performance)
- Bezier curve evaluation using De Casteljau's algorithm
- Handle tangent continuity between connected curves
- Performance: 60fps rendering even with multiple curves

**Algorithm Reference:**
```cpp
// De Casteljau's algorithm for cubic Bezier
Point2D evaluateAt(double t) {
    // Linear interpolation in 3 stages
    Point2D q0 = lerp(p0, p1, t);
    Point2D q1 = lerp(p1, p2, t);
    Point2D q2 = lerp(p2, p3, t);
    Point2D r0 = lerp(q0, q1, t);
    Point2D r1 = lerp(q1, q2, t);
    return lerp(r0, r1, t);
}
```

---

## Dependencies

- story-001-01: Basic shapes must be working
- Geometry core classes implemented

---

## Definition of Done

- [ ] Code implemented and peer reviewed
- [ ] CubicBezier class with full functionality
- [ ] BezierTool creates and edits curves
- [ ] Control points draggable
- [ ] LOD rendering optimized
- [ ] Unit tests for Bezier math
- [ ] Integration tests for tool
- [ ] Documentation updated
- [ ] Merged to main branch
